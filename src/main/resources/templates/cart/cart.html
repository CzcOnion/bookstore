<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/template_head::head">

</head>

<body >

<header th:replace="common/template_menu::header">

</header>

<div th:replace="common/template_menu::header-services">

</div>
<main class="ps-main" id="main-content" role="main">

			<section class="section">
					<div class="container">
								
						<table class="tbl-cart">
							<thead>
							<tr>
							<th>书名</th>
							<th style="width: 15%;">单价</th>
							<th style="width: 15%;">数量</th>
							<th class="hidden-xs" style="width: 15%;">总价</th>
							<th class="hidden-xs" style="width: 10%;"></th>
							</tr>
									</thead>
									<tbody>
										<tr class="hide empty-cart">
											<td colspan="5" align="center">
												您的购物车已空，去看看其它 <a th:href="@{/product-listing}">图书</a>吧.
											</td>
										</tr>
										<tr th:each="cart:${cart}" >
											<td>
												<a class="entry-thumbnail" href="#" data-toggle="lightbox">
													<img th:src="${cart.getBook().getImageList().get(0).getImageLink()}"  alt="book" />
												</a>
												<a class="entry-title" href="product.html" th:text="${cart.getBook().getName()}">Inceptos orci hac libero</a>
											</td>
											<td><span class="unit-price" th:text="${'¥'+cart.getBook().getPrice()}">$350.00</span></td>
											<td>
												<div class="qty-btn-group">
													<button type="button" class="down" onclick="update()"><i class="iconfont-caret-down inline-middle"></i></button>
													<input type="text"  th:value="${cart.count}" onchange="update()"/>
													<button type="button" class="up"><i class="iconfont-caret-up inline-middle"></i></button>
												</div>
											</td>
											<td class="hidden-xs"><strong class="text-bold row-total" id="totalPrice" th:text="${'¥'+cart.count*cart.getBook().getPrice()}">$350.00</strong></td>
											<td class="hidden-xs"><button type="button" class="close" aria-hidden="true">×</button> </td>

										</tr>

									</tbody>
								</table>
								
							
								
								<div class="shopcart-total pull-right clearfix">
					
									<div class="cart-total text-bold m-b-lg clearfix">
										<span class="pull-left">总价:</span>
										<span class="pull-right" id="totalCost"></span>
									</div>
									<div class="text-center">
										<a class="btn btn-round btn-default uppercase"  href="javascript:void(0);" onclick="checkout()">结算</a>
									</div>
								</div>
								
							</div>
						</section>
	
<hr style="width:80%;
margin:0 auto;
margin-bottom:30px;
border: 0;
height: 2px;
background: #333;
background-image: linear-gradient(to right, #ccc, #333, #ccc);">



	<div class="ps-section ps-section--top-sales ps-owl-root pt-40 pb-80">
		<div class="ps-container">
			<div class="ps-section__header mb-50">
				<div class="row">
					<div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 ">
						<h3 class="ps-section__title" data-mask="YOU MIGHT ALSO LIKE">- 猜你喜欢</h3>
					</div>
					<div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 ">
						<div class="ps-owl-actions"><a class="ps-prev" href="#"><i class="ps-icon-arrow-right"></i>Prev</a>
							<a class="ps-next" href="#">Next<i class="ps-icon-arrow-left"></i></a></div>
					</div>
				</div>
			</div>
			<div class="ps-section__content" >
				<div class="ps-owl--colection owl-slider" data-owl-auto="true" data-owl-loop="true" data-owl-speed="5000" data-owl-gap="30" data-owl-nav="false" data-owl-dots="false" data-owl-item="4" data-owl-item-xs="1" data-owl-item-sm="2" data-owl-item-md="3" data-owl-item-lg="4" data-owl-duration="1000" data-owl-mousedrag="on">
					<div class="ps-shoes--carousel"  th:each="booklist ,booklistStat : ${bookList}" th:if="${booklistStat.count} lt '9'">
						<div class="ps-shoe">
							<a th:each="imagelist , imagelistStat : ${booklist.imageList}" th:if="${imagelistStat.count} eq '1'">
								<div class="ps-shoe__thumbnail" >
									<div class="ps-badge"><span>New</span></div>
									<div class="ps-badge ps-badge--sale ps-badge--2nd"><span>-33%</span>
									</div>
									<a class="ps-shoe__favorite" href="#">
										<i class="ps-icon-heart"></i>
									</a>
									<img th:src="@{${imagelist.imageLink}}" alt="" >
									<a class="ps-shoe__overlay" th:href="'/product-detail?'+bookName+'='+${booklist.name}">
									</a>
								</div>
							</a>
							<div class="ps-shoe__content">
								<div class="ps-shoe__variants">
									<div class="ps-shoe__variant normal" >
										<img th:each="imagelist , imagelistStat : ${booklist.imageList}" th:src="@{${imagelist.imageLink}}" alt="">
									</div>
									<select class="ps-rating ps-shoe__rating">
										<option value="1">1</option>
										<option value="1">2</option>
										<option value="1">3</option>
										<option value="1">4</option>
										<option value="2">5</option>
									</select>
								</div>
								<div class="ps-shoe__detail"><a class="ps-shoe__name" th:href="'/product-detail?'+bookName+'='+${booklist.name}" th:text="${booklist.name}">Air Jordan 7 Retro</a>
									<span class="ps-shoe__price">
					<del th:text="${booklist.price}*1.5">£220</del><a th:text="${booklist.price}">£ 120</a> </span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


</main>

<footer th:replace="common/template_menu::footer">

</footer>


<!-- JS Library-->
<script type="text/javascript" src="plugins/jquery/dist/jquery.min.js"></script>
<script type="text/javascript" src="plugins/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="plugins/jquery-bar-rating/dist/jquery.barrating.min.js"></script>
<script type="text/javascript" src="plugins/owl-carousel/owl.carousel.min.js"></script>
<script type="text/javascript" src="plugins/gmap3.min.js"></script>
<script type="text/javascript" src="plugins/imagesloaded.pkgd.js"></script>
<script type="text/javascript" src="plugins/isotope.pkgd.min.js"></script>
<script type="text/javascript" src="plugins/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
<script type="text/javascript" src="plugins/jquery.matchHeight-min.js"></script>
<script type="text/javascript" src="plugins/slick/slick/slick.min.js"></script>
<script type="text/javascript" src="plugins/elevatezoom/jquery.elevatezoom.js"></script>
<script type="text/javascript" src="plugins/Magnific-Popup/dist/jquery.magnific-popup.min.js"></script>
<script type="text/javascript" src="plugins/jquery-ui/jquery-ui.min.js"></script>
<script type="text/javascript" src="http://ditu.google.cn/maps/api/js?key=AIzaSyAx39JFH5nhxze1ZydH-Kl8xXM3OK4fvcg&amp;region=GB"></script>
<script type="text/javascript" src="plugins/revolution/js/jquery.themepunch.tools.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/jquery.themepunch.revolution.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.video.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.slideanims.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.layeranimation.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.navigation.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.parallax.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.actions.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.kenburn.min.js"></script>
<script type="text/javascript" src="plugins/revolution/js/extensions/revolution.extension.migration.min.js"></script>

<!-- Custom scripts-->
<script type="text/javascript" src="js/main.js"></script>




	<!-- Particular Page Javascripts -->
	<script src="js/products.js"></script>

<script>
    function checkout(){
        var totalCost=$("#totalCost").text();
        alert(totalCost);
        $.ajax({
            url:"http://localhost:8080/checkout?totalCost="+totalCost,
            type:"get",
            success:function(data){
                if(data){
                    window.location.href="http://localhost:8080/viewCheckout";
				}
            },
            error:function(){
                alert("error");
            }
        });

    }
</script>

	<!-- // Particular Page Javascripts -->
	
</body>
</html>